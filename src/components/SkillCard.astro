---
import NeoCard from './NeoCard.astro';

interface Skill {
  name: string;
  level: number;
  color: string;
}

interface Props {
  skills?: Skill[];
  title?: string;
  class?: string;
}

const { skills, title = '技能树', class: className = '' } = Astro.props;
const hasSkills = skills && skills.length > 0;

const colorMap: Record<string, string> = {
  yellow: 'bg-yellow-400',
  blue: 'bg-blue-400',
  orange: 'bg-orange-400',
  green: 'bg-green-400',
  pink: 'bg-pink-400',
  purple: 'bg-purple-400'
};
---

<NeoCard class={`p-8 bg-white ${className}`}>
  <h3 class="text-2xl font-bold mb-4">{title}</h3>
  {hasSkills ? (
    <div class="space-y-4">
      {skills.map((skill) => (
        <div>
          <div class="flex justify-between mb-1 font-bold">
            <span>{skill.name}</span>
            <span>{skill.level}%</span>
          </div>
          <div class="w-full bg-black h-4 rounded-full p-0.5">
            <div
              class={`h-full rounded-full ${colorMap[skill.color] || 'bg-yellow-400'}`}
              style={`width: ${skill.level}%`}
            ></div>
          </div>
        </div>
      ))}
    </div>
  ) : (
    <slot />
  )}
</NeoCard>
